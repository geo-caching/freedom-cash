import{s as J,f as T,a as M,e as S,g as N,h as $,d as l,c as _,z as R,k as Z,i as s,D as X,K as tt,C as I,G as et,l as z,m as D,j as F,F as Q,n as q}from"./scheduler.e76b12a0.js";import{S as it,i as nt}from"./index.8ff76f30.js";import{v as j,p as lt}from"./constants.1154adc2.js";function G(d){let e,r="<br/>",o,n,f="<br/>",b,h=d[0].lat+"",p,i,u,k,P=d[0].lon+"",C,O,E,U,m,c,H="<br/>",x,A,g,B,W,Y;function K(t,a){return t[0].txt==null?st:ot}let y=K(d),w=y(d),v=d[0].txt!=null&&V(d);return{c(){e=T("p"),e.innerHTML=r,o=z(`
	The following location will be added
	`),n=T("p"),n.innerHTML=f,b=z(`
	Latitude: `),p=z(h),i=M(),u=T("br"),k=z(`
	Longitute: `),C=z(P),O=M(),E=T("br"),U=M(),w.c(),m=M(),c=T("p"),c.innerHTML=H,x=M(),A=T("input"),g=M(),v&&v.c(),B=S(),this.h()},l(t){e=N(t,"P",{"data-svelte-h":!0}),R(e)!=="svelte-pntvnr"&&(e.innerHTML=r),o=D(t,`
	The following location will be added
	`),n=N(t,"P",{"data-svelte-h":!0}),R(n)!=="svelte-pntvnr"&&(n.innerHTML=f),b=D(t,`
	Latitude: `),p=D(t,h),i=_(t),u=N(t,"BR",{}),k=D(t,`
	Longitute: `),C=D(t,P),O=_(t),E=N(t,"BR",{}),U=_(t),w.l(t),m=_(t),c=N(t,"P",{"data-svelte-h":!0}),R(c)!=="svelte-pntvnr"&&(c.innerHTML=H),x=_(t),A=N(t,"INPUT",{class:!0,type:!0,placeholder:!0}),g=_(t),v&&v.l(t),B=S(),this.h()},h(){F(A,"class","myInputField"),F(A,"type","text"),F(A,"placeholder","... describe this place ...")},m(t,a){s(t,e,a),s(t,o,a),s(t,n,a),s(t,b,a),s(t,p,a),s(t,i,a),s(t,u,a),s(t,k,a),s(t,C,a),s(t,O,a),s(t,E,a),s(t,U,a),w.m(t,a),s(t,m,a),s(t,c,a),s(t,x,a),s(t,A,a),Q(A,d[0].txt),s(t,g,a),v&&v.m(t,a),s(t,B,a),W||(Y=X(A,"input",d[6]),W=!0)},p(t,a){a&1&&h!==(h=t[0].lat+"")&&q(p,h),a&1&&P!==(P=t[0].lon+"")&&q(C,P),y===(y=K(t))&&w?w.p(t,a):(w.d(1),w=y(t),w&&(w.c(),w.m(m.parentNode,m))),a&1&&A.value!==t[0].txt&&Q(A,t[0].txt),t[0].txt!=null?v?v.p(t,a):(v=V(t),v.c(),v.m(B.parentNode,B)):v&&(v.d(1),v=null)},d(t){t&&(l(e),l(o),l(n),l(b),l(p),l(i),l(u),l(k),l(C),l(O),l(E),l(U),l(m),l(c),l(x),l(A),l(g),l(B)),w.d(t),v&&v.d(t),W=!1,Y()}}}function ot(d){let e,r=d[0].txt+"",o;return{c(){e=z("Description: "),o=z(r)},l(n){e=D(n,"Description: "),o=D(n,r)},m(n,f){s(n,e,f),s(n,o,f)},p(n,f){f&1&&r!==(r=n[0].txt+"")&&q(o,r)},d(n){n&&(l(e),l(o))}}}function st(d){let e;return{c(){e=z('Description: ""')},l(r){e=D(r,'Description: ""')},m(r,o){s(r,e,o)},p:I,d(r){r&&l(e)}}}function V(d){let e,r="<br/>",o,n,f="Add Freedom Exchange",b,h;return{c(){e=T("p"),e.innerHTML=r,o=M(),n=T("button"),n.textContent=f,this.h()},l(p){e=N(p,"P",{"data-svelte-h":!0}),R(e)!=="svelte-pntvnr"&&(e.innerHTML=r),o=_(p),n=N(p,"BUTTON",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1wpvoua"&&(n.textContent=f),this.h()},h(){F(n,"class","inside")},m(p,i){s(p,e,i),s(p,o,i),s(p,n,i),b||(h=X(n,"click",d[7]),b=!0)},p:I,d(p){p&&(l(e),l(o),l(n)),b=!1,h()}}}function rt(d){let e,r,o,n="<br/>",f,b,h,p,i=d[0].lat!=null&&G(d);return{c(){e=T("div"),r=M(),o=T("p"),o.innerHTML=n,f=M(),i&&i.c(),b=S(),this.h()},l(u){e=N(u,"DIV",{style:!0}),$(e).forEach(l),r=_(u),o=N(u,"P",{"data-svelte-h":!0}),R(o)!=="svelte-pntvnr"&&(o.innerHTML=n),f=_(u),i&&i.l(u),b=S(),this.h()},h(){Z(e,"height","400px"),Z(e,"width","100%")},m(u,k){s(u,e,k),s(u,r,k),s(u,o,k),s(u,f,k),i&&i.m(u,k),s(u,b,k),h||(p=[X(window,"resize",d[2]),tt(d[1].call(null,e))],h=!0)},p(u,[k]){u[0].lat!=null?i?i.p(u,k):(i=G(u),i.c(),i.m(b.parentNode,b)):i&&(i.d(1),i=null)},i:I,o:I,d(u){u&&(l(e),l(r),l(o),l(f),l(b)),i&&i.d(u),h=!1,et(p)}}}function at(d,e,r){let{pois:o}=e,{contract:n}=e,f,b,h=[],p,i={};function u(m){let c=L.map(m).setView([47.365365,8.541248],6);return b=L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconAnchor:[12.5,41]}),L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
      &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,subdomains:"abcd",maxZoom:20}).addTo(c),c}function k(m){f=u(m);for(const c of o){const H=L.marker([c.lat,c.lon],{icon:b}).bindPopup(c.text).addTo(f);H.on("mouseover",function(x){H.openPopup()}),H.on("click",function(x){H.openPopup()}),h.push(H)}return f.on("click",function(c){P(),r(0,i.lat=Math.round((c.latlng.lat+Number.EPSILON)*1e6)/1e6,i),r(0,i.lon=Math.round((c.latlng.lng+Number.EPSILON)*1e6)/1e6,i),p!=null&&f.removeLayer(p),p=L.marker([i.lat,i.lon],{icon:b}).addTo(f)}),f.on("dragstart",function(c){P()}),f.on("blur",function(c){P()}),{destroy:()=>{f.remove()}}}function P(){for(const m of h)m.closePopup()}function C(){f&&f.invalidateSize()}async function O(m){const c=await n.assetCounter()+BigInt(1);console.log(`adding to ${m} asset ${JSON.stringify(i)} ${c} ${j}`),await n.addAsset(m,JSON.stringify(i),c,j)}function E(){i.txt=this.value,r(0,i)}const U=()=>O(lt);return d.$$set=m=>{"pois"in m&&r(4,o=m.pois),"contract"in m&&r(5,n=m.contract)},[i,k,C,O,o,n,E,U]}class ct extends it{constructor(e){super(),nt(this,e,at,rt,J,{pois:4,contract:5})}}export{ct as M};
